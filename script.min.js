function loaddata(){d3.json("info.json",function(e){info12=e;d3.json("autocomplete.json",function(e){autocomplete=e;d3.json("data.json",function(e){data=e;render(data)})})})}function load(){width=window.screen.width*.55;height=window.screen.height;var e=document.getElementById("info");e.style.height=window.screen.height+15+"px";e.style.width=window.screen.width*.42+"px";var t=document.getElementById("searchquery");t.addEventListener("keyup",keyuplistener);svg=d3.select("body").append("svg").attr("width",width).attr("height",height).on("click",clickonsvg);force=d3.layout.force().gravity(.05).distance(100).friction(.5).size([width,height]);loaddata()}function clickonsvg(){}function keyuplistener(){var e=this;var t=e.value;if(t.length>0){if(ret!=null){onmouseout_circle(null,ret.index)}ret=autocompleteIt(t);if(ret!=null){var n=ret.type;var r=n==2?info12.nodes.class:n==1?info12.nodes.interface:info12.nodes.exception;getRequireInfoObject(r,ret.name);onclick_circle(null,ret.index)}}}function render(e){force.nodes(e.nodes).links(e.links).charge(-100).gravity(.05).start();var t=svg.selectAll(".link").data(e.links).enter().append("line").attr("class","link").attr("stroke","#fafafa").attr("opacity","0.2");var n=svg.selectAll(".node").data(e.nodes).enter().append("g").attr("class","node").call(force.drag);n.append("circle").attr("r","10").attr("x",-8).attr("id",function(e,t){return"#a"+t}).attr("data-value",function(e,t){return e.type}).attr("name",function(e,t){return e.type}).attr("y",-8).attr("fill",function(e){if(e.type==1){return"#2DF51B"}else if(e.type==2){return"blue"}else{return"red"}}).attr("opacity","0.2").attr("stroke","black").attr("width",16).attr("height",16).attr("cursor","pointer").on("mouseover",function(e,t){onmouseover_circle(e,t)}).on("mouseout",function(e,t){onmouseout_circle(e,t)}).on("click",function(e,t){onmouseout_circle(e,t);getinfo(this,t);onclick_circle(e,t)});n.append("text").attr("dx",function(e,t){return-(e.name.length*13/6)}).attr("dy","-1.20em").attr("id",function(e,t){return"a"+t}).attr("display","none").attr("fill","white").text(function(e){return e.name});force.on("tick",function(){t.attr("x1",function(e){return e.source.x}).attr("y1",function(e){return e.source.y}).attr("x2",function(e){return e.target.x}).attr("y2",function(e){return e.target.y});n.attr("transform",function(e){return"translate("+e.x+","+e.y+")"})})}function onmouseover_circle(e,t){var n=d3.selectAll("circle").selectAll("#a"+t);var r=n[t].parentNode;r.setAttribute("opacity","1");var i=d3.selectAll("text");i.selectAll("#a"+t)[t].parentNode.setAttribute("display","block");if(n[t].parentNode.getAttribute("r")>=20){i.selectAll(a)[t].parentNode.setAttribute("dy","-2.40em")}else{i.selectAll(a)[t].parentNode.setAttribute("dy","-1.20em")}var s=data;for(var o=0;o<s.links.length;o++){if(s.links[o].target.index==t||s.links[o].source.index==t){var u=s.links[o].target.index==t?s.links[o].source.index:s.links[o].target.index;var a="#a"+u;i.selectAll(a)[u].parentNode.setAttribute("display","block");d3.selectAll(a).attr("opacity","1");if(n[u].parentNode.getAttribute("r")>=20){i.selectAll(a)[u].parentNode.setAttribute("dy","-2.40em")}else{i.selectAll(a)[u].parentNode.setAttribute("dy","-1.20em")}}}}function onmouseout_circle(e,t){var n=d3.selectAll("circle").selectAll("#a"+t);var r=n[t].parentNode;var i=d3.selectAll("text");i.selectAll("#a"+t)[t].parentNode.setAttribute("display","none");i.selectAll("#a"+t)[t].parentNode.setAttribute("dy","-1.20em");var s=data;for(var o=0;o<s.links.length;o++){if(s.links[o].target.index==t||s.links[o].source.index==t){var u=s.links[o].target.index==t?s.links[o].source.index:s.links[o].target.index;var a="#a"+u;i.selectAll(a)[u].parentNode.setAttribute("display","none");i.selectAll(a)[u].parentNode.setAttribute("dy","-1.20em")}}}function makecirclesmall(){d3.selectAll("text").attr("display","none");d3.selectAll("circle").attr("opacity","0.2");d3.selectAll("circle").attr("r","10")}function onclick_circle(e,t){makecirclesmall();document.getElementById("intro").style.display="none";document.getElementById("doc").style.display="block";var n=d3.selectAll("circle").selectAll("#a"+t);var r=n[t].parentNode;r.setAttribute("opacity","1");r.setAttribute("r","20");var i=d3.selectAll("text");i.selectAll("#a"+t)[t].parentNode.setAttribute("display","block");i.selectAll("#a"+t)[t].parentNode.setAttribute("dy","-2.40em");var s=[];s.push(t);var o=data;for(var u=0;u<o.links.length;u++){if(o.links[u].target.index==t||o.links[u].source.index==t){var a=o.links[u].target.index==t?o.links[u].source.index:o.links[u].target.index;var f="#a"+a;i.selectAll(f)[t].parentNode.setAttribute("display","block");i.selectAll(f)[t].parentNode.setAttribute("dy","-2.40em");n[a].parentNode.setAttribute("opacity","1");n[a].parentNode.setAttribute("r","20");i.selectAll(f)[a].parentNode.setAttribute("display","block");i.selectAll(f)[a].parentNode.setAttribute("dy","-2.40em");s.push(u)}}force.charge(function(e,t){if(s.indexOf(t)!=-1){return-200}else{return-100}});force.linkDistance(function(e,t){if(s.indexOf(t)!=-1){return 200}else{return 100}});force.theta(function(e,n){if(s.indexOf(n)!=-1){console.log(t+":"+u+":"+n);return 1}else{return 0}});force.start()}function getinfo(e,t){var n=e.id;var r=e.getAttribute("data-value");console.log(e);var i=d3.selectAll("text").selectAll(n)[t].parentNode.__data__.name;var s=r==2?info12.nodes.class:r==1?info12.nodes.interface:info12.nodes.exception;console.log(s);getRequireInfoObject(s,i)}function getRequireInfoObject(e,t){e.forEach(function(e){if(e.name===t){console.log(e);renderThisInfo(e)}})}function renderThisInfo(e){document.getElementById("nameOfObj").innerHTML=e.name;document.getElementById("signature").innerHTML=e.signature;document.getElementById("descritption").innerHTML=e.description;var t=document.getElementById("constructor");t.innerHTML="";if(e.constructors!=null){var n=document.createElement("ul");for(var r=0;r<e.constructors.length;r++){var i=e.constructors[r];console.log(i);var s=document.createElement("li");s.innerHTML=i.signature;s.className="constructor_signature";var o=document.createElement("ul");var u=document.createElement("li");u.className="constructor_desciption";u.innerHTML=i.description;o.appendChild(u);s.appendChild(o);n.appendChild(s)}t.appendChild(n)}var a=document.getElementById("methods");a.innerHTML="";if(e.methods!=null){n=document.createElement("ul");for(var r=0;r<e.methods.length;r++){var f=e.methods[r];console.log(f);var s=document.createElement("li");s.innerHTML=f.signature;s.className="method_signature";var o=document.createElement("ul");var u=document.createElement("li");u.innerHTML=f.description;u.className="method_desciption";o.appendChild(u);if(f.exception!==undefined){for(var l=0;l<f.exception.length;l++){u=document.createElement("li");u.innerHTML=f.exception[l].throws;u.className="method_exception";o.appendChild(u)}}s.appendChild(o);n.appendChild(s)}a.appendChild(n)}}function autocompleteIt(e){e=e.toLowerCase();var t=autocomplete.nodes;var n=-1;var r=9999;for(var i=0;i<t.length;i++){var s=t[i];var o=s.name.toLowerCase();var u=o.search(e);if(u>-1&&r>u){n=i;r=u;autocomplete_array.push(s.name)}}var a=new Object;a=t[n];a.index=n;return n==-1?null:t[n]}var info12;var autocomplete_array=[];var autocomplete;var data;var ret;var svg;var width,height,force